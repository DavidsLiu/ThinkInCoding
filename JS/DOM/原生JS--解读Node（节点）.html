<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Node</title>

  <style media="screen">
    .demo {
      height: 800px;
      background-color: rgb(23,132,222);
    }
    .item {
      height: 100px;
      margin: 50px;
    }
    .one {
      background-color: rgb(222,222,12);
      display: none;
    }
    .two {
      background-color: rgb(23,222,222);
    }
    .three {
      background-color: rgb(222,122,222);
    }
  </style>
</head>
<body>

  <div class="demo">
    <div class="one item">one</div>
    <div class="two item">two</div>
    <div class="three item">three</div>
  </div>



  <script type="text/javascript">
    /**
     * 节点的类型
     * Element 1
     * Attr 2
     * Document 3
     * Comment 8
     * Document 9
     *
     */

    /**
     * 创建节点
     */

    const el = document.createElement('div');

    const attr = document.createAttribute('title');
    attr.value = "content";

    const txt = document.createTextNode('i am student');

    /**
     * nodeName
     */
    console.log('----------------  nodeName    --------------------');
    console.log(el.nodeName); //DIV
    console.log(attr.nodeName); //title
    console.log(txt.nodeName); //#text
    console.log(document.nodeName); //#document


    /**
     * nodeValue
     */
    console.log('----------------  nodeValue   --------------------');
    console.log(el.nodeValue); // null
    console.log(attr.nodeValue); // content
    console.log(txt.nodeValue); // i am student
    console.log(document.nodeValue); // null

    /**
     * 子节点
     */
    const demo = document.querySelector('.demo'),
          one = document.querySelector('.one'),
          two = document.querySelector('.two'),
          three = document.querySelector('.three');
    console.log('----------------  子节点   --------------------');

    if (demo.hasChildNodes()) {
      demo.childNodes.forEach(function (item) {
        console.log(item.nodeName);
      })
    }

    console.log("-----------------  首尾子节点   --------------------");
    console.log(demo.firstChild);
    console.log(demo.lastChild);

    console.log(demo.firstElementChild); //<div class="one"></div>
    console.log(demo.lastElementChild);  //<div class="three"></div>

    console.log("-----------------  兄弟节点   --------------------");
    console.log(demo.previousSibling);
    console.log(demo.nextSibling);

    console.log("-------------- parentNode parentElement -------------------");
    /**
     * 大部分情况下两者相同 如果parentNode不是element 则 parentElement为null
     */
    console.log(document.body.parentNode.nodeName); //HTML
    console.log(document.body.parentElement.nodeName); //HTML

    console.log(document.documentElement.parentNode); //#document
    console.log(document.documentElement.parentElement); // null

    console.log("---------------------  textContent  -------------------------");
    console.log(demo.textContent);
    console.log(demo.innerText); // 通过 css js 隐藏的文字不会显示出来

    /**
     * 添加一个节点
     */

    const newElement = document.createElement('div');
    newElement.className = "item two";
    demo.appendChild(newElement);

    const newElement1 = document.createElement('div');
    newElement1.className = "item three";
    one.parentNode.insertBefore(newElement1, one);


    function insertAfter(newElement, target) {
      if (target.nextElementSibling === null) {
        target.parentNode.appendChild(newElement);
        return;
      }
      target = target.nextElementSibling;
      target.parentNode.insertBefore(newElement, target);
    }
    /**
     * 复制一个节点
     */
    const copyElementDeep = demo.cloneNode(true);
    const copyElement = demo.cloneNode(false);
    console.log(copyElementDeep);
    console.log(copyElement);

    /**
     * 删除节点
     */
    if (demo.contains(newElement)) {
      demo.removeChild(newElement);
    }

    /**
     * 移除
     * remove() 连自己也删除
     * removeChild() 删除子节点
     * contains() 判断是否含有子节点
     */

     /**
      * 替换  target.parentNode.replaceChild(newElement, target);
      */

      /**
       * 判断两个节点是否相等
       * node.isEqualNode(otherNode) 只判断类型特性是否相等
       * node.isSameNode(otherNode)  ===
       */
      console.log("---------------------- 判断节点相等 -----------------------------");
      const demo1 = document.createElement('div');
      demo1.className = "some";
      const demo2 = document.createElement('div');
      demo2.className = 'some';
      const demo3 = document.createElement('div');
      demo3.className = "ok";
      console.log(demo1.isEqualNode(demo1)); // true
      console.log(demo1.isEqualNode(demo2)); // true
      console.log(demo1.isEqualNode(demo3)); // false

      console.log(demo1.isSameNode(demo1));  // true
      console.log(demo1.isSameNode(demo2));  // false
      console.log(demo1.isSameNode(demo3));  // false

      const demo4 = demo1.cloneNode(true);
      console.log(demo1.isSameNode(demo4)); // false
  </script>
</body>
</html>
